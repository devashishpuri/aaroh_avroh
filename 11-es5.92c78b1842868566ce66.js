function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{nZBp:function(t,e,a){"use strict";a.r(e),a.d(e,"PreviewPageModule",(function(){return y}));var n=a("ofXK"),r=a("3Pt+"),i=a("TEn/"),o=a("tyNb"),s=a("mrSG"),c=a("gcOT"),l=a("fXoL"),b=a("LEUy");function h(t,e){if(1&t&&(l.Mb(0,"span",10),l.kc(1),l.Lb()),2&t){var a=e.$implicit;l.zb(1),l.mc(" ",a," ")}}function u(t,e){if(1&t&&(l.Mb(0,"ion-item"),l.ic(1,h,2,1,"span",8),l.Mb(2,"span",9),l.kc(3,","),l.Lb(),l.Lb()),2&t){var a=e.$implicit;l.zb(1),l.bc("ngForOf",a)}}function p(t,e){if(1&t&&(l.Mb(0,"span",10),l.kc(1),l.Lb()),2&t){var a=e.$implicit;l.zb(1),l.mc(" ",a," ")}}function f(t,e){if(1&t&&(l.Mb(0,"ion-item"),l.ic(1,p,2,1,"span",8),l.Mb(2,"span",9),l.kc(3,","),l.Lb(),l.Lb()),2&t){var a=e.$implicit;l.zb(1),l.bc("ngForOf",a)}}function v(t,e){if(1&t){var a=l.Nb();l.Mb(0,"ion-fab",11),l.Mb(1,"ion-button",12),l.Ub("click",(function(){return l.fc(a),l.Wb().save()})),l.Kb(2,"ion-icon",13),l.kc(3," Save "),l.Lb(),l.Lb()}}var d,k,g,m=c.a.Share,M=[{path:"",component:(d=function(){function t(e,a,n,r,i,o){var s=this;_classCallCheck(this,t),this.route=e,this.router=a,this.nav=n,this.alankarService=r,this.storageService=i,this.alertController=o,this.avroh=[],this.aaroh=[],this.alreadySaved=!1,this.route.queryParams.subscribe((function(t){if(s.router.getCurrentNavigation().extras.state){var e=s.router.getCurrentNavigation().extras.state.saved;s.alreadySaved=e||!1,s.alankar=s.router.getCurrentNavigation().extras.state.alankarPhrase,s.title=e?s.alankar.title:s.alankar.phrase.join(", "),s.preparePhrases()}else s.router.navigate(["/home"])}))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"preparePhrases",value:function(){var t=this.alankarService.getAlankar(this.alankar.phrase,this.alankar.rootSwara,this.alankar.lastSwara,this.alankar.thaat,this.alankar.vargitSwaras);this.aaroh=t.aaroh,this.avroh=t.avroh}},{key:"share",value:function(){var t=this.alankar.phrase.join(", ");m.share({title:this.alreadySaved?this.alankar.title:t,text:"View this alankar on the Alankar app",url:"https://devashishpuri.github.io/aaroh_avroh/",dialogTitle:this.alreadySaved?this.alankar.title:t})}},{key:"save",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.alankar.phrase.join(", "),t.next=3,this.getTitle();case 3:return a=t.sent,t.next=6,this.storageService.saveAlankar(Object.assign(Object.assign({},this.alankar),{title:a||e,date:(new Date).getTime()}));case 6:this.nav.navigateRoot("/saved");case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getTitle",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({cssClass:"alankar-title",header:"Alankar Name",inputs:[{name:"title",type:"text",placeholder:"Name your Alankar"}],buttons:[{text:"Cancel",role:"cancel",handler:function(){}},{text:"Save",handler:function(){}}]});case 2:return e=t.sent,t.next=5,e.present();case 5:return t.next=7,e.onDidDismiss();case 7:return t.abrupt("return",t.sent.data.values.title);case 8:case"end":return t.stop()}}),t,this)})))}}]),t}(),d.\u0275fac=function(t){return new(t||d)(l.Jb(o.a),l.Jb(o.i),l.Jb(i.G),l.Jb(b.a),l.Jb(b.c),l.Jb(i.a))},d.\u0275cmp=l.Db({type:d,selectors:[["app-preview"]],decls:26,vars:7,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen","scrollX"],[1,"phrase-title"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","edge","","slot","fixed",4,"ngIf"],[3,"click"],["slot","start","name","share-social"],["class","phrase-swara",4,"ngFor","ngForOf"],[1,"phrase-delimeter"],[1,"phrase-swara"],["vertical","bottom","horizontal","end","edge","","slot","fixed"],[1,"fab-button",3,"click"],["slot","start","name","checkmark"]],template:function(t,e){1&t&&(l.Mb(0,"ion-header",0),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-buttons",1),l.Kb(3,"ion-back-button"),l.Lb(),l.Mb(4,"ion-title"),l.kc(5),l.Lb(),l.Lb(),l.Lb(),l.Mb(6,"ion-content",2),l.Mb(7,"ion-list"),l.Mb(8,"ion-list-header"),l.Mb(9,"ion-label"),l.Mb(10,"span",3),l.kc(11,"Aaroh"),l.Lb(),l.Lb(),l.Lb(),l.ic(12,u,4,1,"ion-item",4),l.Lb(),l.Mb(13,"ion-list"),l.Mb(14,"ion-list-header"),l.Mb(15,"ion-label"),l.Mb(16,"span",3),l.kc(17,"Avroh"),l.Lb(),l.Lb(),l.Lb(),l.ic(18,f,4,1,"ion-item",4),l.Lb(),l.ic(19,v,4,0,"ion-fab",5),l.Lb(),l.Mb(20,"ion-footer"),l.Mb(21,"ion-toolbar"),l.Mb(22,"ion-buttons",1),l.Mb(23,"ion-button",6),l.Ub("click",(function(){return e.share()})),l.Kb(24,"ion-icon",7),l.kc(25," Share "),l.Lb(),l.Lb(),l.Lb(),l.Lb()),2&t&&(l.bc("translucent",!0),l.zb(5),l.lc(e.title||"Alankar Preview"),l.zb(1),l.bc("fullscreen",!0)("scrollX",!0),l.zb(6),l.bc("ngForOf",e.aaroh),l.zb(6),l.bc("ngForOf",e.avroh),l.zb(1),l.bc("ngIf",!e.alreadySaved))},directives:[i.m,i.D,i.h,i.e,i.f,i.B,i.j,i.q,i.r,i.p,n.j,n.k,i.l,i.g,i.n,i.o,i.k],styles:[".phrase-title[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:large;font-weight:700}.phrase-swara[_ngcontent-%COMP%]:not(:first-child){margin-left:16px}ion-item[_ngcontent-%COMP%]:last-child   .phrase-delimeter[_ngcontent-%COMP%]{display:none}ion-content[_ngcontent-%COMP%]::part(scroll){margin-bottom:32px}ion-fab[_ngcontent-%COMP%]{width:120px;right:8px;bottom:-16px}ion-fab[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]::part(native){border-radius:32px;padding:24px}"]}),d)}],w=((g=function t(){_classCallCheck(this,t)}).\u0275mod=l.Hb({type:g}),g.\u0275inj=l.Gb({factory:function(t){return new(t||g)},imports:[[o.k.forChild(M)],o.k]}),g),y=((k=function t(){_classCallCheck(this,t)}).\u0275mod=l.Hb({type:k}),k.\u0275inj=l.Gb({factory:function(t){return new(t||k)},imports:[[n.b,r.a,i.E,w]]}),k)}}]);
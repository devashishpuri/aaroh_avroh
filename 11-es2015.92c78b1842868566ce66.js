(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{nZBp:function(t,a,e){"use strict";e.r(a),e.d(a,"PreviewPageModule",(function(){return m}));var n=e("ofXK"),i=e("3Pt+"),r=e("TEn/"),o=e("tyNb"),s=e("mrSG"),l=e("gcOT"),c=e("fXoL"),b=e("LEUy");function h(t,a){if(1&t&&(c.Mb(0,"span",10),c.kc(1),c.Lb()),2&t){const t=a.$implicit;c.zb(1),c.mc(" ",t," ")}}function p(t,a){if(1&t&&(c.Mb(0,"ion-item"),c.ic(1,h,2,1,"span",8),c.Mb(2,"span",9),c.kc(3,","),c.Lb(),c.Lb()),2&t){const t=a.$implicit;c.zb(1),c.bc("ngForOf",t)}}function u(t,a){if(1&t&&(c.Mb(0,"span",10),c.kc(1),c.Lb()),2&t){const t=a.$implicit;c.zb(1),c.mc(" ",t," ")}}function d(t,a){if(1&t&&(c.Mb(0,"ion-item"),c.ic(1,u,2,1,"span",8),c.Mb(2,"span",9),c.kc(3,","),c.Lb(),c.Lb()),2&t){const t=a.$implicit;c.zb(1),c.bc("ngForOf",t)}}function f(t,a){if(1&t){const t=c.Nb();c.Mb(0,"ion-fab",11),c.Mb(1,"ion-button",12),c.Ub("click",(function(){return c.fc(t),c.Wb().save()})),c.Kb(2,"ion-icon",13),c.kc(3," Save "),c.Lb(),c.Lb()}}const{Share:g}=l.a,k=[{path:"",component:(()=>{class t{constructor(t,a,e,n,i,r){this.route=t,this.router=a,this.nav=e,this.alankarService=n,this.storageService=i,this.alertController=r,this.avroh=[],this.aaroh=[],this.alreadySaved=!1,this.route.queryParams.subscribe(t=>{if(this.router.getCurrentNavigation().extras.state){const t=this.router.getCurrentNavigation().extras.state.saved;this.alreadySaved=t||!1,this.alankar=this.router.getCurrentNavigation().extras.state.alankarPhrase,this.title=t?this.alankar.title:this.alankar.phrase.join(", "),this.preparePhrases()}else this.router.navigate(["/home"])})}ngOnInit(){}preparePhrases(){const t=this.alankarService.getAlankar(this.alankar.phrase,this.alankar.rootSwara,this.alankar.lastSwara,this.alankar.thaat,this.alankar.vargitSwaras);this.aaroh=t.aaroh,this.avroh=t.avroh}share(){const t=this.alankar.phrase.join(", ");g.share({title:this.alreadySaved?this.alankar.title:t,text:"View this alankar on the Alankar app",url:"https://devashishpuri.github.io/aaroh_avroh/",dialogTitle:this.alreadySaved?this.alankar.title:t})}save(){return Object(s.a)(this,void 0,void 0,(function*(){const t=this.alankar.phrase.join(", "),a=yield this.getTitle();yield this.storageService.saveAlankar(Object.assign(Object.assign({},this.alankar),{title:a||t,date:(new Date).getTime()})),this.nav.navigateRoot("/saved")}))}getTitle(){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"alankar-title",header:"Alankar Name",inputs:[{name:"title",type:"text",placeholder:"Name your Alankar"}],buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"Save",handler:()=>{}}]});return yield t.present(),(yield t.onDidDismiss()).data.values.title}))}}return t.\u0275fac=function(a){return new(a||t)(c.Jb(o.a),c.Jb(o.i),c.Jb(r.G),c.Jb(b.a),c.Jb(b.c),c.Jb(r.a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-preview"]],decls:26,vars:7,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen","scrollX"],[1,"phrase-title"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","edge","","slot","fixed",4,"ngIf"],[3,"click"],["slot","start","name","share-social"],["class","phrase-swara",4,"ngFor","ngForOf"],[1,"phrase-delimeter"],[1,"phrase-swara"],["vertical","bottom","horizontal","end","edge","","slot","fixed"],[1,"fab-button",3,"click"],["slot","start","name","checkmark"]],template:function(t,a){1&t&&(c.Mb(0,"ion-header",0),c.Mb(1,"ion-toolbar"),c.Mb(2,"ion-buttons",1),c.Kb(3,"ion-back-button"),c.Lb(),c.Mb(4,"ion-title"),c.kc(5),c.Lb(),c.Lb(),c.Lb(),c.Mb(6,"ion-content",2),c.Mb(7,"ion-list"),c.Mb(8,"ion-list-header"),c.Mb(9,"ion-label"),c.Mb(10,"span",3),c.kc(11,"Aaroh"),c.Lb(),c.Lb(),c.Lb(),c.ic(12,p,4,1,"ion-item",4),c.Lb(),c.Mb(13,"ion-list"),c.Mb(14,"ion-list-header"),c.Mb(15,"ion-label"),c.Mb(16,"span",3),c.kc(17,"Avroh"),c.Lb(),c.Lb(),c.Lb(),c.ic(18,d,4,1,"ion-item",4),c.Lb(),c.ic(19,f,4,0,"ion-fab",5),c.Lb(),c.Mb(20,"ion-footer"),c.Mb(21,"ion-toolbar"),c.Mb(22,"ion-buttons",1),c.Mb(23,"ion-button",6),c.Ub("click",(function(){return a.share()})),c.Kb(24,"ion-icon",7),c.kc(25," Share "),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&t&&(c.bc("translucent",!0),c.zb(5),c.lc(a.title||"Alankar Preview"),c.zb(1),c.bc("fullscreen",!0)("scrollX",!0),c.zb(6),c.bc("ngForOf",a.aaroh),c.zb(6),c.bc("ngForOf",a.avroh),c.zb(1),c.bc("ngIf",!a.alreadySaved))},directives:[r.m,r.D,r.h,r.e,r.f,r.B,r.j,r.q,r.r,r.p,n.j,n.k,r.l,r.g,r.n,r.o,r.k],styles:[".phrase-title[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:large;font-weight:700}.phrase-swara[_ngcontent-%COMP%]:not(:first-child){margin-left:16px}ion-item[_ngcontent-%COMP%]:last-child   .phrase-delimeter[_ngcontent-%COMP%]{display:none}ion-content[_ngcontent-%COMP%]::part(scroll){margin-bottom:32px}ion-fab[_ngcontent-%COMP%]{width:120px;right:8px;bottom:-16px}ion-fab[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]::part(native){border-radius:32px;padding:24px}"]}),t})()}];let v=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(a){return new(a||t)},imports:[[o.k.forChild(k)],o.k]}),t})(),m=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(a){return new(a||t)},imports:[[n.b,i.a,r.E,v]]}),t})()}}]);